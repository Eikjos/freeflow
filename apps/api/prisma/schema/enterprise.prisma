model Enterprise {
  id             Int                  @id @default(autoincrement())
  name           String               @unique
  siret          String               @unique
  tvaNumber      String?
  address        String
  city           String
  countryId      Int
  juridicShapeId String
  mediaId        Int?                 @unique
  zipCode        String
  email          String
  phone          String
  prefixe        String?
  lastInvoiceNumber Int               @default(0)
  contacts       Contact[]
  country        Country              @relation(fields: [countryId], references: [id])
  juridicShape   JuridicShape         @relation(fields: [juridicShapeId], references: [code])
  media          Media?               @relation(fields: [mediaId], references: [id])
  customers      EnterpriseCustomer[]
  expenses       Expense[]
  invoices       Invoice[]
  opinions       Opinion[]
  projects       Project[]
  sales          Sales[]
  users          User[]
}

model EnterpriseCustomer {
  enterpriseId Int
  customerId   Int
  isDeleted    Boolean    @default(false)
  customer     Customer   @relation(fields: [customerId], references: [id])
  enterprise   Enterprise @relation(fields: [enterpriseId], references: [id])

  @@id([enterpriseId, customerId])
}
