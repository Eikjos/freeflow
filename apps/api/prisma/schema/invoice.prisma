model Invoice {
  id           Int        @id @default(autoincrement())
  number       String
  name         String
  date         DateTime
  customerId   Int
  enterpriseId Int
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  mediaId      Int?       @unique
  devisId      Int?       @unique
  type         InvoiceType
  status       StatusInvoice
  customer     Customer   @relation(fields: [customerId], references: [id])
  enterprise   Enterprise @relation(fields: [enterpriseId], references: [id])
  media        Media?     @relation(fields: [mediaId], references: [id])
  invoiceLines  InvoiceLine[]
  excludeTva   Boolean  @default(false)
  devis        Invoice? @relation("devisInvoice", fields: [devisId], references: [id])
  invoice     Invoice? @relation("devisInvoice")
}

enum StatusInvoice {
  WAITING_VALIDATION
  VALIDATE
  WAITING_PAYED
  PAYED
}

enum InvoiceType {
  QUOTE
  INVOICE
}